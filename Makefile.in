# Makefile  - gamp  audio mpeg player v0.2.0
# russ burdick 1999,2000
# trannie carter 1999,2000
# based on amp, tomislav uzelac  1996,1997


#DEBUG = -DDEBUG

# ---- @OS_TYPE@/@ARCH_TYPE@ ----

CC = @CC@
DEFINES = -DOS_@OS_TYPE@ -DARCH_@ARCH_TYPE@
CFLAGS = @CFLAGS@ ${DEFINES} ${DEBUG} -g
LDFLAGS = @LDFLAGS@

#
# uncomment both of these if you want profiling support
#
#PG = -pg
#LDFLAGS = ${LDFLAGS} -pg

#
# you should probably leave these untouched ####################################
#

OBJ = getbits.o getdata.o huffman.o dump.o misc2.o transform.o formats.o layer3.o util.o buffer.o audioIO.o args.o getopt.o getopt1.o list.o gamp.o
LIBS = -lm -lncurses -lpthread

all: gamp

.PHONY: clean cleandist dep 
clean:
	rm -f *.o gamp core

distclean: clean
	rm -f *~ config.status config.cache config.log config.h Makefile .depend

gamp: $(OBJ) 
	$(CC) -o gamp $(OBJ) $(LDFLAGS) $(LIBS) 

.c.o:
	$(CC) -c $(CFLAGS) $(GGDB) $(PG) $< 

dep:
	gcc -MM ${DEFINES} ${DEBUG} *.c > .depend

-include .depend
